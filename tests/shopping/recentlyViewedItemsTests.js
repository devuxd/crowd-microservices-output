// Users may want to view the list of items that they have previously viewed. All interaction of users like item they purchased, viewed , or searched are stored in database in the structure of 'log' Data Types. This function searches the items of log data type objects of all users, then refines and returns the items viewed by the user, the 'action' property of 'log' data type objects in the database for viewed items is 'viewed'. Each item in the log data type objects has a flag ('action' property) which indicates if the item was 'purchased', 'viewed', or 'searched' by the user. If there are no such items, it returns an empty collection. The function may make use of a 3rd party persistence library. The function should check the validity of the input arguments. If 'userId' is empty or nu , a 'TypeError' exception should be thrown with a description.